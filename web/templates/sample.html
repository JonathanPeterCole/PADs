<!DOCTYPE html>
<html>
<head>
	
<meta http-equiv="refresh" content="5"/>

<title> Remote Monitoring </title>

</head>

<!--<body>
<button type="button" onclick="javascript:window.location.href='../../templates/sample_form.html'">Create new record</button>
-->

<style>

table {
	width: 100%;
	color:black;
	background-color:white;
	margin: 1px auto;
	border: 10px solid black
	padding: 10px
}

thead {
	color:white;	
	background-color:darkblue;
}

.status_unavailable {
background-color:red;
}
.status_warning{
background-color:orange;
}
</style>

<h1>Fleet PADs</h1>
<p>{{cab.cut_off_time}}</p>
<table>
<thead><tr><th>ID</th><th>Location</th><th>Postcode</th><th>Door Status</th><th>Defib Status</th><th>Last Update</th><th>Cut Off Time</th></tr></thead>
<tbody>
{% for cab in cabinets %}

{% if cab.last_update < cab.cut_off_time %}
	<tr  class="status_unavailable"><td>{{ cab.id }}</td><td>{{ cab.location }}</td><td>{{cab.postcode}}</td><td>{{cab.door_status}}</td><td>{{cab.defib_status}}</td><td>{{cab.last_update}}</td><td>{{cab.cut_off_time}}</td></tr>

{% elseif cab.defib_status == "Unavailable" %}
	<tr  class="status_unavailable"><td>{{ cab.id }}</td><td>{{ cab.location }}</td><td>{{cab.postcode}}</td><td>{{cab.door_status}}</td><td>{{cab.defib_status}}</td><td>{{cab.last_update}}</td><td>{{cab.cut_off_time}}</td></tr>

{% elseif cab.door_status == "Open" %}
	<tr  class="status_warning"><td>{{ cab.id }}</td><td>{{ cab.location }}</td><td>{{cab.postcode}}</td><td>{{cab.door_status}}</td><td>{{cab.defib_status}}</td><td>{{cab.last_update}}</td><td>{{cab.cut_off_time}}</td></tr>

{% else %}
<tr><td>{{ cab.id }}</td><td>{{ cab.location }}</td><td>{{cab.postcode}}</td><td>{{cab.door_status}}</td><td>{{cab.defib_status}}</td><td>{{cab.last_update}}</td><td>{{cab.cut_off_time}}</td></tr>
{% endif %}

{% endfor %}

</tbody>
</table>
</body>
</html>
